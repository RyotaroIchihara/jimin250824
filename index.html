<!-- Chosen Palette: Professional Blue Harmony -->
<!-- Application Structure Plan: A top-down dashboard structure was chosen for this financial report. The application starts with high-level Key Performance Indicators (KPIs) for immediate understanding (Total Income, Total Expenditure, Final Balance). It then drills down into the composition of income and the breakdown of expenditures using dedicated charts. This logical flow from summary to detail is the most intuitive way for users to consume financial data, making a complex table easily digestible. The structure is designed to tell a clear financial story efficiently on a single page. -->
<!-- Visualization & Content Choices: 
- Report Info: Overall Totals (Income, Expenditure, Balance) -> Goal: Inform -> Viz/Method: Large, dynamic stat cards (HTML/CSS) -> Interaction: None -> Justification: Provides the most critical, high-level information instantly upon loading.
- Report Info: Income Breakdown (Participation Fee, Donation) -> Goal: Compare (Composition) -> Viz/Method: Donut Chart -> Interaction: Hover tooltips -> Justification: Ideal for showing parts of a whole with a small number of categories (2), clearly illustrating the primary source of income. -> Library/Method: Chart.js/Canvas.
- Report Info: Expenditure Breakdown by Category -> Goal: Compare (Categories) -> Viz/Method: Horizontal Bar Chart -> Interaction: Hover tooltips -> Justification: Superior to a pie chart for comparing more than a few categories. It allows for easy comparison of spending magnitudes and provides clear, readable labels for each expense type. Data is sorted for clarity. -> Library/Method: Chart.js/Canvas.
-->
<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自由民主党小金井総支部 | ビアパーティー対話型収支報告</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #f7fafc;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .kpi-value {
            color: #1e3a8a;
        }
        .deficit {
            color: #c53030;
        }
        .nav-button {
            transition: all 0.2s ease-in-out;
        }
        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-10">
        <div class="container mx-auto max-w-6xl px-4 py-3 flex justify-between items-center">
            <div>
                <h1 class="text-xl md:text-2xl font-bold text-blue-900">自由民主党小金井総支部</h1>
                <p class="text-sm text-gray-600">ビアパーティー対話型収支報告</p>
            </div>
            <nav class="hidden md:flex space-x-2">
                <a href="#overview" class="nav-button bg-blue-800 text-white px-4 py-2 rounded-md text-sm font-semibold">概要</a>
                <a href="#breakdown" class="nav-button bg-gray-200 text-gray-800 px-4 py-2 rounded-md text-sm font-semibold">詳細分析</a>
                <a href="#summary" class="nav-button bg-gray-200 text-gray-800 px-4 py-2 rounded-md text-sm font-semibold">総括</a>
            </nav>
        </div>
    </header>

    <main class="container mx-auto max-w-6xl p-4 md:p-8 mt-4">

        <section id="overview" class="mb-12 scroll-mt-20">
            <div class="text-left mb-8">
                <h2 class="text-3xl font-bold text-blue-900">財務概要</h2>
                <p class="mt-2 text-gray-600 max-w-3xl">令和〇年8月24日に開催されたビアパーティーの財務結果の全体像です。総収入、総支出、および最終的な収支差額を以下に示します。</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                <div class="bg-white p-6 rounded-lg shadow-lg border-t-4 border-blue-500">
                    <h3 class="text-md font-bold text-gray-500 uppercase tracking-wider">総収入</h3>
                    <p class="text-4xl font-extrabold mt-2 kpi-value">￥193,000</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg border-t-4 border-yellow-500">
                    <h3 class="text-md font-bold text-gray-500 uppercase tracking-wider">総支出</h3>
                    <p class="text-4xl font-extrabold mt-2 kpi-value">￥343,449</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg border-t-4 border-red-600">
                    <h3 class="text-md font-bold text-gray-500 uppercase tracking-wider">収支差額</h3>
                    <p class="text-4xl font-extrabold mt-2 deficit">￥-150,449</p>
                </div>
            </div>
        </section>

        <section id="breakdown" class="mb-12 scroll-mt-20">
             <div class="text-left mb-8">
                <h2 class="text-3xl font-bold text-blue-900">収入・支出の詳細分析</h2>
                <p class="mt-2 text-gray-600 max-w-3xl">収入源の構成と、支出がどの費目に割り当てられたかを視覚的に分析します。各グラフにカーソルを合わせると詳細な金額が表示されます。</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold text-center text-blue-900">収入の内訳</h3>
                    <p class="text-center mt-2 mb-4 text-sm text-gray-600">総収入の94.8%が参加費によるものです。皆様のご参加に心より感謝申し上げます。</p>
                    <div class="chart-container">
                        <canvas id="incomeChart"></canvas>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold text-center text-blue-900">支出の内訳</h3>
                     <p class="text-center mt-2 mb-4 text-sm text-gray-600">総支出の中で最も大きな割合を占めるのは飲食費（67.4%）でした。続いて広報活動に関わる郵便料金と印刷費が発生しています。</p>
                    <div class="chart-container">
                        <canvas id="expenseChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="summary" class="scroll-mt-20">
             <div class="text-left mb-6">
                <h2 class="text-3xl font-bold text-blue-900">総括</h2>
            </div>
            <div class="bg-white p-8 rounded-lg shadow-lg border-l-4 border-blue-800">
                <p class="mt-2 text-gray-700 leading-relaxed">
                    この度のビアパーティーは、多くの皆様にご参加いただき、盛会裏に終了することができました。改めて、ご参加、ご協力いただいた全ての皆様に心より御礼申し上げます。
                    <br><br>
                    本報告の通り、財務的には赤字となりましたが、これは今後の更なる支部活動の活性化、そして皆様との連携強化に向けた重要な投資であると捉えております。
                    <br><br>
                    今後とも自由民主党小金井総支部の活動に対し、変わらぬご理解と力強いご支援を賜りますよう、何卒よろしくお願い申し上げます。
                </p>
            </div>
        </section>

    </main>

    <footer class="text-center p-6 mt-8 bg-gray-100 border-t">
        <p class="text-sm text-gray-600">&copy; 2025 自由民主党小金井総支部</p>
    </footer>

    <script>
        const professionalBlue = ['#1e3a8a', '#1d4ed8', '#3b82f6', '#60a5fa', '#93c5fd'];
        const professionalRed = '#c53030';

        const tooltipTitleCallbackConfig = {
            plugins: {
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) {
                              return label.join(' ');
                            }
                            return label;
                        },
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed !== null) {
                                label += new Intl.NumberFormat('ja-JP', { style: 'currency', currency: 'JPY' }).format(context.parsed);
                            }
                            return label;
                        }
                    }
                }
            }
        };

        const incomeCtx = document.getElementById('incomeChart').getContext('2d');
        new Chart(incomeCtx, {
            type: 'doughnut',
            data: {
                labels: ['参加費', '寄附金'],
                datasets: [{
                    label: '収入',
                    data: [183000, 10000],
                    backgroundColor: [professionalBlue[1], professionalBlue[3]],
                    borderColor: '#ffffff',
                    borderWidth: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '60%',
                plugins: {
                    ...tooltipTitleCallbackConfig.plugins,
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            font: {
                                size: 14
                            }
                        }
                    }
                }
            }
        });
        
        const expenseData = {
            '飲食費': 231680,
            '郵便料金': 14756 + 26976,
            '印刷費': 39376,
            '消耗品費': 16808 + 528 + 4425 + 900,
            '賃貸料': 8000
        };

        const sortedExpenses = Object.entries(expenseData).sort(([, a], [, b]) => b - a);
        
        const expenseCtx = document.getElementById('expenseChart').getContext('2d');
        new Chart(expenseCtx, {
            type: 'bar',
            data: {
                labels: sortedExpenses.map(item => item[0]),
                datasets: [{
                    label: '支出額',
                    data: sortedExpenses.map(item => item[1]),
                    backgroundColor: professionalBlue,
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: {
                    x: {
                        beginAtZero: true,
                        ticks: {
                            callback: (value) => `\${value / 1000}k`
                        }
                    },
                    y: {
                        grid: {
                            display: false
                        }
                    }
                },
                 plugins: {
                    ...tooltipTitleCallbackConfig.plugins,
                    legend: {
                        display: false
                    }
                }
            }
        });

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
